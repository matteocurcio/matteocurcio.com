---
import BaseLayout from "../layouts/BaseLayout.astro";
import ProjectCard from "../components/ProjectCard.astro";
import { getCollection } from "astro:content";

const featured = (await getCollection("projects"))
  .sort((a, b) => b.data.year - a.data.year)
  .slice(0, 6);
---

<BaseLayout
  title="Matteo Curcio | Post-production that ships clean, fast, and secure"
  description="Finishing, editorial, motion, tutoring, and practical workflow resilience for producers and studios."
  path="/"
>
  <section>
    <p class="kicker">Melbourne</p>
    <h1>Post-production that ships clean, fast, and secure.</h1>
    <p class="post-meta">
      Matteo Curcio helps producers and studios finish premium work with dependable workflows, calm revisions, and
      delivery-ready masters.
    </p>
  </section>

  <section class="section lane-grid">
    <article class="lane">
      <h3>For Producers & Agencies</h3>
      <p>Hire finishing, editorial, and motion support with clear approvals and predictable delivery.</p>
      <a class="button-link" href="/contact?intent=project">Start a Project</a>
    </article>

    <article class="lane">
      <h3>For Studio Teams</h3>
      <p>Fix pipeline friction, versioning drift, and handoff risk without slowing creatives down.</p>
      <a class="button-link" href="/for-studios">Fix the Pipeline</a>
    </article>

    <article class="lane">
      <h3>For Students</h3>
      <p>Learn Resolve and post workflow with real footage and practical professional constraints.</p>
      <a class="button-link" href="/tutoring">Learn Resolve</a>
    </article>
  </section>

  <section class="section credibility-strip">
    <span>Finishing & Look</span>
    <span>Editorial & Versioning</span>
    <span>Motion Systems</span>
    <span>Workflow Design</span>
    <span>Content Resilience</span>
  </section>

  <section class="section">
    <h2>Selected Work</h2>
    <div class="projects-grid">
      {featured.map((project) => (
        <ProjectCard
          slug={project.slug}
          title={project.data.title}
          client={project.data.client}
          year={project.data.year}
          service={project.data.service}
          excerpt={project.data.excerpt}
          cover={project.data.cover}
          coverAlt={project.data.coverAlt}
        />
      ))}
    </div>
  </section>
</BaseLayout>
