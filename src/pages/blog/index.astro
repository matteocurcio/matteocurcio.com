---
import BaseLayout from "../../layouts/BaseLayout.astro";
import PostCard from "../../components/PostCard.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection("posts"))
  .filter((p) => !p.data.draft)
  .sort((a, b) => b.data.date.localeCompare(a.data.date));
---

<BaseLayout title="Blog | Matteo Curcio" path="/blog">
  <h1>Notes on post-production, tools, and process.</h1>

  <div class="section blog-grid">
    {posts.map((post) => (
      <PostCard
        slug={post.slug}
        title={post.data.title}
        date={post.data.date}
        excerpt={post.data.excerpt}
        cover={post.data.cover}
        coverAlt={post.data.coverAlt}
      />
    ))}
  </div>
</BaseLayout>

